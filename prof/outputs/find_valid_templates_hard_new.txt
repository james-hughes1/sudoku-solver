Timer unit: 1e-09 s

Total time: 0.117209 s
File: /home/jhughes2712/projects/c1_assessment/jh2284/prof/scripts/find_valid_templates_hard.py
Function: find_valid_templates at line 64

Line #      Hits         Time  Per Hit   % Time  Line Contents
==============================================================
    64                                           def find_valid_templates(
    65                                               grid: np.ndarray, templates_list=None
    66                                           ) -> list[list[int]]:
    67                                               """!@brief Produce a list of templates applicable to a sudoku grid.
    68                                               @details Given a starting grid of clues, this function iterates through
    69                                               all possible templates, and - for each digit - stores the subset of
    70                                               templates that are valid given the clues.
    71                                               @param grid Sudoku grid stored as a np.ndarray.
    72                                               @return valid_templates_list The subsets of valid templates for each digit.
    73                                               """
    74         1       1110.0   1110.0      0.0      if templates_list is None:
    75         1        315.0    315.0      0.0          templates_list = ALL_TEMPLATES
    76         1        682.0    682.0      0.0      valid_templates_list = []
    77        10      12952.0   1295.2      0.0      for digit in range(1, 10):
    78         9     199406.0  22156.2      0.2          digit_grid = 1*(grid == digit)
    79        27     367518.0  13611.8      0.3          valid_templates_digit = np.where(
    80         9  116606881.0    1e+07     99.5              np.all(templates_list - digit_grid >= 0, axis=(1, 2))
    81         9       3524.0    391.6      0.0          )[0]
    82         9      15985.0   1776.1      0.0          valid_templates_list.append(valid_templates_digit)
    83         1        150.0    150.0      0.0      return valid_templates_list
